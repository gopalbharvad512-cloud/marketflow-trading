<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Market | MarketFlow Live</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h1 style="text-align:center;">Live Market</h1>
<p style="text-align:center;">Select market to view chart</p>

<div style="text-align:center; margin-bottom:20px;">
  <select id="symbolSelect" onchange="changeChart()">
    <option value="BINANCE:BTCUSDT">BTC / USDT</option>
    <option value="BINANCE:ETHUSDT">ETH / USDT</option>
    <option value="FX:EURUSD">EUR / USD</option>
    <option value="NASDAQ:AAPL">Apple (AAPL)</option>
  </select>
</div>

<div class="tradingview-widget-container">
  <div id="tradingview_chart"></div>
</div>

<script src="https://s3.tradingview.com/tv.js"></script>
<script>
let widget;

function loadChart(symbol){
  if(widget){
    widget.remove();
  }
  widget = new TradingView.widget({
    "width": "100%",
    "height": 500,
    "symbol": symbol,
    "interval": "15",
    "timezone": "Asia/Kolkata",
    "theme": "dark",
    "style": "1",
    "locale": "en",
    "toolbar_bg": "#0b0f19",
    "enable_publishing": false,
    "allow_symbol_change": true,
    "container_id": "tradingview_chart"
  });
}

function changeChart(){
  const symbol = document.getElementById("symbolSelect").value;
  loadChart(symbol);
}

loadChart("BINANCE:BTCUSDT");
</script>

</body>
</html>